@tailwind base;
@tailwind components;
@tailwind utilities;

/* Custom Brand Color Classes */
@layer components {
    /* Primary Button Styles */
    .btn-primary {
        @apply inline-flex items-center px-4 py-2 bg-primary-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-primary-700 focus:bg-primary-700 active:bg-primary-900 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 transition ease-in-out duration-150;
    }

    /* Secondary Button Styles */
    .btn-secondary {
        @apply inline-flex items-center px-4 py-2 bg-secondary-100 border border-secondary-300 rounded-md font-semibold text-xs text-secondary-700 uppercase tracking-widest hover:bg-secondary-200 focus:bg-secondary-200 active:bg-secondary-300 focus:outline-none focus:ring-2 focus:ring-secondary-500 focus:ring-offset-2 transition ease-in-out duration-150;
    }

    /* Success Button Styles */
    .btn-success {
        @apply inline-flex items-center px-4 py-2 bg-success-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-success-700 focus:bg-success-700 active:bg-success-900 focus:outline-none focus:ring-2 focus:ring-success-500 focus:ring-offset-2 transition ease-in-out duration-150;
    }

    /* Error/Danger Button Styles */
    .btn-danger {
        @apply inline-flex items-center px-4 py-2 bg-error-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-error-700 focus:bg-error-700 active:bg-error-900 focus:outline-none focus:ring-2 focus:ring-error-500 focus:ring-offset-2 transition ease-in-out duration-150;
    }

    /* Input Field Styles */
    .input-field {
        @apply border-secondary-300 focus:border-primary-500 focus:ring-primary-500 rounded-md shadow-sm;
    }

    /* Card Hover Effects */
    .card-hover {
        @apply bg-white rounded-lg shadow-sm border border-secondary-200 hover:shadow-md hover:border-primary-300 transition-all duration-300;
    }

    /* Navigation Link Active */
    .nav-link-active {
        @apply border-b-2 border-primary-500 text-secondary-900;
    }

    /* Navigation Link Inactive */
    .nav-link-inactive {
        @apply border-b-2 border-transparent text-secondary-600 hover:text-secondary-900 hover:border-secondary-300;
    }

    /* Badge/Tag Styles */
    .badge-primary {
        @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-primary-100 text-primary-800;
    }

    .badge-secondary {
        @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-secondary-100 text-secondary-800;
    }

    .badge-success {
        @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-success-100 text-success-800;
    }

    .badge-warning {
        @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-warning-100 text-warning-800;
    }

    .badge-error {
        @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-error-100 text-error-800;
    }

    /* Alert Styles */
    .alert-success {
        @apply bg-success-50 border border-success-200 text-success-800 px-4 py-3 rounded-md;
    }

    .alert-warning {
        @apply bg-warning-50 border border-warning-200 text-warning-800 px-4 py-3 rounded-md;
    }

    .alert-error {
        @apply bg-error-50 border border-error-200 text-error-800 px-4 py-3 rounded-md;
    }

    /* Link Styles */
    .link-primary {
        @apply text-primary-600 hover:text-primary-800 transition-colors duration-200;
    }

    .link-secondary {
        @apply text-secondary-600 hover:text-secondary-800 transition-colors duration-200;
    }

    /* Star Rating Colors */
    .star-filled {
        @apply text-warning-400;
    }

    .star-empty {
        @apply text-secondary-300;
    }

    /* Form Validation */
    .input-error {
        @apply text-sm text-error-600;
    }

    /* Gradient Backgrounds */
    .gradient-primary {
        @apply bg-gradient-to-r from-primary-600 to-primary-700;
    }

    .gradient-dark {
        @apply bg-gradient-to-r from-secondary-800 to-secondary-900;
    }
}

/* Additional utility classes */
@layer utilities {
    .text-brand-primary {
        @apply text-primary-600;
    }

    .bg-brand-primary {
        @apply bg-primary-600;
    }

    .border-brand-primary {
        @apply border-primary-600;
    }
}

/* CSS Browser Compatibility Fixes */
@layer utilities {
    /* Filter compatibility fix */
    .filter-modern {
        -webkit-filter: var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);
        filter: var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);
    }

    /* Text size adjust compatibility */
    .text-size-adjust-auto {
        -webkit-text-size-adjust: auto;
        -moz-text-size-adjust: auto;
        -ms-text-size-adjust: auto;
        text-size-adjust: auto;
    }

    .text-size-adjust-none {
        -webkit-text-size-adjust: none;
        -moz-text-size-adjust: none;
        -ms-text-size-adjust: none;
        text-size-adjust: none;
    }

    /* Accessibility improvements */
    .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border: 0;
    }

    /* Focus improvements */
    .focus-visible {
        outline: 2px solid transparent;
        outline-offset: 2px;
    }

    .focus-visible:focus-visible {
        outline: 2px solid #3b82f6;
        outline-offset: 2px;
    }
}

/* Dark Mode Input Improvements */
@layer utilities {
    /* Input Field Dark Mode Improvements */
    .input-field {
        @apply border-secondary-300 focus:border-primary-500 focus:ring-primary-500 rounded-md shadow-sm;
    }
    
    /* Dark mode specific input styles */
    html.dark .input-field,
    html.dark input[type="text"],
    html.dark input[type="email"],
    html.dark input[type="password"],
    html.dark input[type="date"],
    html.dark input[type="time"],
    html.dark input[type="number"],
    html.dark textarea,
    html.dark select {
        background-color: #374151 !important; /* gray-700 */
        border-color: #6b7280 !important; /* gray-500 */
        color: #ffffff !important; /* white text */
    }
    
    /* Placeholder text in dark mode */
    html.dark input::placeholder,
    html.dark textarea::placeholder {
        color: #d1d5db !important; /* gray-300 - much lighter */
        opacity: 0.8;
    }
    
    /* Focus states in dark mode */
    html.dark input:focus,
    html.dark textarea:focus,
    html.dark select:focus {
        background-color: #4b5563 !important; /* gray-600 - slightly lighter on focus */
        border-color: #3b82f6 !important; /* blue-500 */
        color: #ffffff !important; /* white text */
        box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1) !important;
    }
    
    /* Disabled inputs in dark mode */
    html.dark input:disabled,
    html.dark textarea:disabled,
    html.dark select:disabled {
        background-color: #1f2937 !important; /* gray-800 */
        color: #9ca3af !important; /* gray-400 */
        opacity: 0.7;
    }
    
    /* Labels in dark mode */
    html.dark label {
        color: #e5e7eb !important; /* gray-200 */
        font-weight: 500;
    }
    
    /* Form validation error text in dark mode */
    html.dark .date-error,
    html.dark .input-error,
    html.dark .text-red-600 {
        color: #fca5a5 !important; /* red-300 */
    }
    
    /* Specific improvements for admin refunds filter inputs */
    html.dark #from_date,
    html.dark #to_date {
        background-color: #374151 !important;
        border-color: #6b7280 !important;
        color: #ffffff !important;
        font-size: 0.95rem;
        font-weight: 500;
    }
    
    html.dark #from_date::placeholder,
    html.dark #to_date::placeholder {
        color: #d1d5db !important;
        opacity: 0.9;
        font-style: italic;
    }
    
    html.dark #from_date:focus,
    html.dark #to_date:focus {
        background-color: #4b5563 !important;
        border-color: #3b82f6 !important;
        color: #ffffff !important;
        box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.15) !important;
    }
    
    /* Select dropdowns in dark mode */
    html.dark select option {
        background-color: #374151 !important;
        color: #ffffff !important;
    }
    
    /* Input groups and form sections in dark mode */
    html.dark .form-group,
    html.dark .input-group {
        color: #e5e7eb;
    }
    
    /* Better contrast for form help text */
    html.dark .text-sm.text-gray-500,
    html.dark .help-text {
        color: #d1d5db !important; /* gray-300 */
    }
}

/* Additional specific fixes for common input patterns */
@layer components {
    /* Enhanced input field component for dark mode */
    .input-enhanced {
        @apply border-gray-300 focus:border-blue-500 focus:ring-blue-500 rounded-md shadow-sm transition-colors duration-200;
    }
    
    html.dark .input-enhanced {
        @apply bg-gray-700 border-gray-500 text-white placeholder-gray-300;
    }
    
    html.dark .input-enhanced:focus {
        @apply bg-gray-600 border-blue-500 text-white;
        box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    }
}

/* Fix for admin table inputs */
html.dark .admin-table input,
html.dark .admin-table select,
html.dark .admin-table textarea {
    background-color: #374151 !important;
    border-color: #6b7280 !important;
    color: #ffffff !important;
}

/* Fix for filter forms in admin pages */
html.dark .filter-form input,
html.dark .filter-form select {
    background-color: #374151 !important;
    border-color: #6b7280 !important;
    color: #ffffff !important;
}

html.dark .filter-form input::placeholder {
    color: #d1d5db !important;
    opacity: 0.8;
}
